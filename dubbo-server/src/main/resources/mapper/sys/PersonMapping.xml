<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.crossyf.dubbo.first.mapper.PersonMapper">
    <resultMap type="com.crossyf.dubbo.first.entity.Person" id="person">
        <result column="id" jdbcType="VARCHAR" property="id"/>
        <result column="create_datetime" jdbcType="TIMESTAMP" property="createTime"/>
        <result column="email" jdbcType="VARCHAR" property="email"/>
        <result column="phone" jdbcType="VARCHAR" property="phone"/>
        <result column="sex" jdbcType="VARCHAR" property="sex"/>
        <result column="username" jdbcType="VARCHAR" property="userName"/>
        <result column="zone" jdbcType="BLOB" property="zone"/>
        <result column="classes" jdbcType="VARCHAR" property="classes"/>
        <result column="level" jdbcType="BLOB" property="level"/>
        <result column="mother" jdbcType="VARCHAR" property="mother"/>
        <result column="company_code" jdbcType="VARCHAR" property="companyCode"/>
        <result column="company_name" jdbcType="VARCHAR" property="companyName"/>
    </resultMap>

    <sql id="personColnum">
        pn.id,pn.create_datetime,pn.email,pn.phone,pn.sex,pn.username,
        pn.zone,pn.classes,pn.level,pn.mother,pn.company_code
    </sql>

    <select id="findOne" resultMap="person">
        SELECT <include refid="personColnum"/>
        FROM person pn WHERE pn.id = #{id,jdbcType=VARCHAR} and pn.username = #{username,jdbcType=VARCHAR}
    </select>

</mapper>